!function(a){a.fn.UixSCFormPop=function(b){var c=a.extend({postID:"",title:"",trigger:"",errorInfo:"Timeout expired. The timeout period elapsed prior to completion of the operation or the server is not responding. ",initFunction:function(){},startFunction:function(){}},b);this.each(function(){var d=(a(this),c.trigger.replace(".","").replace("#","")),e=c.title,g=(c.postID,c.trigger),i=(c.errorInfo,"uixscform-modal-open-"+d),j=g.replace(".","").replace("#","").replace("mce-","").replace("-widget_btn",""),k={formID:j,title:e,thisModalID:i,thisFormName:d};a(".uixscform-modal-mask").length<1&&a("body").prepend('<div class="uixscform-modal-mask"></div>'),a("#"+k.thisModalID).length<1&&a("body").prepend('<div class="uixscform-modal-box" id="'+k.thisModalID+'"><a href="javascript:void(0)" class="close-btn close-uixscform-modal">&times;</a><div class="content"><h2>'+k.title+'</h2><span class="preview-box"></span><span class="iconslist-box"></span><span class="echo-module-temp"></span><span class="echo-module-temp-clone" style="display:none"></span><span class="echo-frontend-temp" style="display:none"></span></div></div>'),"[object Function]"==Object.prototype.toString.call(c.initFunction)&&c.initFunction(k),a(document).on("click",g,function(b){b.preventDefault();var d=void 0!==a(this).data("target")?a(this).data("target"):"content",g="null",h="null",k="null",l={formID:j,ID:g,contentID:d,title:e,name:h,thisModalID:i,sectionID:g,colID:k},n=a(".uixscform-modal-box#"+i),o=.8*a(window).height()-150,p=".uixscform-modal-box#"+i+" .echo-module-temp",q=".uixscform-modal-box#"+i+" .echo-frontend-temp";if(n.length>0){var r=j,s=g,t=k,u=t.replace("---","----"),v=t.replace("col-item-","").replace("---"+s,""),y=uixscform_module_form_ids(r,s,t,!1);n.UixSCFormPopWinReset({heightChange:220}),n.attr({"data-contentID":d,"data-tempID":r,"data-colID":t,"data-colIDToVar":u,"data-sectionID":s,"data-echoFrontendID":q,"data-colNumber":v}),a(p).html(""),uixscform_isJSON(y)&&a("#module_tmpl__"+r).tmpl(JSON.parse(y)).appendTo(p),n.find('form [name="section"]').val(r),n.find('form [name="colid"]').val(t),n.find('form [name="row"]').val(s),a(document).uixscform_init_controls({form:n}),uixscform_clonedata_exists(y)&&n.find(".uixscform_btn_trigger-clone").uixscform_dynamicFormInit({type:"load"}),0==n.find(".iconslist-box").html().length&&n.find(".iconslist-box").html(a(".uixscform-icon-selector-btn-target").html()),0==n.find(".preview-box").html().length&&n.find(".preview-box").html(a(".uixscform-livepreview-btn-target").html());var z=0,A=0,B=a(p).find(".uixscform-form-container"),C=a(p).find(".uixscform-table-cols-wrapper"),D=Array();if(C.length>0){C.each(function(b){var c=a(this).height();a(this).hasClass("uixscform-table-col-1")&&(A=c),D.push(parseFloat(c)+parseFloat(A))});for(var F=-1/0,G=0;G<D.length;G++)D[G]>F&&(z=D[G])}else z=B.height();(null==z||0==z||parseFloat(z+150+.2*a(window).height())>a(window).height())&&(z=o),n.css("height",parseFloat(z+150)+"px"),n.find(".uixscform-modal-buttons").css("margin-top",parseFloat(z/2+20)+"px"),a(".uixscform_btn_trigger-clone").on("click",function(b){b.preventDefault();var c=.8*a(window).height()-150+150;n.css("height",c+"px"),n.find(".uixscform-modal-buttons").css("margin-top",.8*c/2+"px")}),a(".uixscform-modal-box .close-uixscform-modal").on("click",function(b){b.preventDefault(),a(document).UixSCFormPopClose(),a(".uixscform-modal-box .iconslist-box").removeAttr("id").removeClass("active"),a(".uixscform-modal-box .preview-box").removeAttr("id").removeClass("active")})}"[object Function]"==Object.prototype.toString.call(c.startFunction)&&c.startFunction(l),a(".uixscform-modal-box .close-uixscform-modal").on("click",function(b){b.preventDefault(),a(this).parent().removeClass("active"),a(document).UixSCFormPopClose(),a(".uixscform-modal-box .iconslist-box").removeAttr("id").removeClass("active"),a(".uixscform-modal-box .preview-box").removeAttr("id").removeClass("active")})}),a(document).on("click mouseenter",".uixscform-modal-save-btn",function(b){var d=(a(this).closest("form"),a(this).closest(".uixscform-modal-box.active"));if(1==d.find(".uixscform-modal-save-btn").length&&(d.UixSCFormPopSaveAndRenderHtml({contentID:d.attr("data-contentID"),tempID:d.attr("data-tempID"),colID:d.attr("data-colID"),colIDToVar:d.attr("data-colIDToVar"),sectionID:d.attr("data-sectionID"),echoFrontendID:d.attr("data-echoFrontendID"),colNumber:d.attr("data-colNumber")}),"click"==b.type)){b.preventDefault();var f=a("#"+a(this).attr("id").replace("_savebtn","_preview_codebtn"));return uixscform_insertCodes(f.data("code"),f.data("contentID")),a(document).UixSCFormPopClose(),!1}})})}}(jQuery),function(a){a.fn.UixSCFormPopClose=function(b){a.extend({},b);this.each(function(){a(".uixscform-modal-mask").fadeOut("fast"),a(".uixscform-modal-box").removeClass("active").css("height","200px"),a("html").css("overflow-y","auto")})}}(jQuery),function(a){a.fn.UixSCFormPopSwitchTransition=function(b){a.extend({},b);this.each(function(){a(".uixscform-modal-box").removeClass("active"),a("html").css("overflow-y","auto")})}}(jQuery),function(a){a.fn.UixSCFormPopWinReset=function(b){var c=a.extend({heightChange:!0},b);this.each(function(){var b=a(this);a(".uixscform-modal-mask").fadeIn("fast"),b.addClass("active"),b.find(".uixscform-modal-buttons").css("margin-top","50px"),c.heightChange&&b.css("height",parseFloat(.8*a(window).height()-150+150)+"px"),/^[-+]?(\d+|\d+\.\d*|\d*\.\d+)$/.test(c.heightChange)&&b.css("height",c.heightChange+"px"),b.find(".content").animate({scrollTop:10},100),a("html").css("overflow-y","hidden")})}}(jQuery),function(a){a.fn.UixSCFormPopSaveAndRenderHtml=function(b){var c=a.extend({contentID:"",tempID:"",colID:"",colIDToVar:"",sectionID:"",echoFrontendID:"",colNumber:""},b);this.each(function(){var d=(a(this),c.contentID),e=c.tempID,f=c.colID,g=c.colIDToVar,h=c.sectionID,i=c.echoFrontendID,k=(c.colNumber,uixscform_module_form_ids(e,h,f,!0)),l=[],m=a("#uixscform-form-all-field-ids-"+e).attr("data-field-ids"),n=[],o=uixscform_module_form_keys(a("#module_tmpl__"+e).html()),p=[],q=[],r=[],s=[],t=a(a("#module_tmpl__"+e).html()).find("[data-clone-max]").attr("data-clone-max");if(void 0!==m)for(var u=m.split(","),v=0;v<u.length;v++){var w=uixscform_to_controlName_ToVar(u[v],e,h,f);if(""!=w){var x=uixscform_to_controlVarID_ToName(w),y=uixscform_filter_control_id(x);w=w.replace(x,y),n.push(w)}}if(a("[name^='"+e+"-"+g+"']").each(function(){var b=a(this).attr("id").replace(e+"-"+g+"-","").replace("-"+h+"-","");b.indexOf("__index__")<0&&b.indexOf("_temp")>=0&&n.push(a(this).attr("id"))}),void 0!==t&&t>0){for(var z=[],A=1;A<t;A++)for(var v=0;v<n.length;v++)n[v].indexOf("_listitem")>=0&&a("#"+n[v]+A).length>0&&z.push(n[v]+A);n=n.concat(z)}for(var v=0;v<n.length;v++){var B=a("#"+n[v]),C=uixscform_format_textarea(B);""!=C&&B.val(C);var D=n[v].replace(e+"-"+g+"-","").replace("-"+h+"-",""),E=uixscform_to_controlSaveData_ToHTML(uixscform_filter_control_val(B.val()));if(D.indexOf("__index__")<0){if(D.indexOf("_triggerclonelist")>=0&&D.indexOf("_temp")<0?D+="__fieldID":D.indexOf("_listitem")>=0&&D.indexOf("_temp")<0&&(D+="__fieldVal"),D.indexOf("_temp")<0){var F=B.data("callback");E=void 0!==F?uixscform_value_callback(E,F):uixscform_format_text_entering(E)}l.push({[D]:E})}}if(void 0!==t&&t>0&&"[object Array]"===Object.prototype.toString.call(l)){for(var v=0;v<l.length;v++){var G=l[v],H=JSON.stringify(G);if(H.indexOf("_listitem")>=0&&H.indexOf("_temp")<0){var I=H.replace(/^\{?|\}?$/g,"").split(":"),J=I[0].replace(/"/g,""),K=uixscform_filter_control_id(uixscform_to_cloneControlKey_ToSave(J));H=H.replace(J,K),r.push(uixscform_to_cloneControlKey_ToSave(H)),uixscform_to_cloneControlKey_notLoopIndex(J)&&q.push(uixscform_to_cloneControlKey_ToSave(H))}}for(var v=0;v<r.length;v++)s.push(JSON.parse(r[v]));if("[object Array]"===Object.prototype.toString.call(o))for(var v=0;v<o.length;v++)o[v].indexOf("_triggerclonelist")>=0&&p.push(o[v]);for(var L=0,M=0,N=[],O="",P=0,Q=0,R=0,S=0,T=0,U=0,V=0,W=0,X="",Y="",Z="",$="",_=[],aa=[],ba=[],ca=[],A=0;A<q.length;A++){var da=q[A];da.indexOf("_one_")>=0&&P++,da.indexOf("_two_")>=0&&Q++,da.indexOf("_three_")>=0&&R++,da.indexOf("_four_")>=0&&S++,da.indexOf("_one_")<0&&da.indexOf("_two_")<0&&da.indexOf("_three_")<0&&da.indexOf("_four_")<0&&L++}for(var A=0;A<s.length;A++){var ea=s[A],da=JSON.stringify(ea);da.indexOf("_one_")>=0&&(T++,_.push(ea)),da.indexOf("_two_")>=0&&(U++,aa.push(ea)),da.indexOf("_three_")>=0&&(V++,ba.push(ea)),da.indexOf("_four_")>=0&&(W++,ca.push(ea)),da.indexOf("_one_")<0&&da.indexOf("_two_")<0&&da.indexOf("_three_")<0&&da.indexOf("_four_")<0&&(M++,N.push(ea))}if(O=uixscform_cloned_groupStr_frontend(N,M,L),X=uixscform_cloned_groupStr_frontend(_,T,P),Y=uixscform_cloned_groupStr_frontend(aa,U,Q),Z=uixscform_cloned_groupStr_frontend(ba,V,R),$=uixscform_cloned_groupStr_frontend(ca,W,S),p.length>0)for(var fa=0;fa<p.length;fa++){var ga=p[fa];ga.indexOf("_one_")>=0&&X.length>0&&l.push({[ga]:X}),ga.indexOf("_two_")>=0&&Y.length>0&&l.push({[ga]:Y}),ga.indexOf("_three_")>=0&&Z.length>0&&l.push({[ga]:Z}),ga.indexOf("_four_")>=0&&$.length>0&&l.push({[ga]:$}),ga.indexOf("_one_")<0&&ga.indexOf("_two_")<0&&ga.indexOf("_three_")<0&&ga.indexOf("_four_")<0&&O.length>0&&l.push({[ga]:O})}}l=uixscform_arr_to_tempjson(l,!1,!0),l=uixscform_module_form_JsonResult_frontend(l),a(i).html(""),a("#frontend_module_tmpl__"+e).tmpl(JSON.parse(l)).appendTo(i);var ha=a(i).html();a("#"+k).val(ha),a("#"+e+"_preview_codebtn").data({code:uixscform_format_text_decode(ha),contentID:d})})}}(jQuery);