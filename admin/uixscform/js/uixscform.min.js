!function(a){a.fn.UixSCFormPop=function(b){var c=a.extend({postID:"",title:"",trigger:"",errorInfo:"Timeout expired. The timeout period elapsed prior to completion of the operation or the server is not responding. ",initFunction:function(){},startFunction:function(){}},b);this.each(function(){var d=(a(this),c.trigger.replace(".","").replace("#","")),e=c.title,f=c.postID,g=c.trigger,h=c.errorInfo,i="uixscform-modal-open-"+d,j=g.replace(".","").replace("#","").replace("-widget_btn",""),k={formID:j,title:e,thisModalID:i,thisFormName:d};a(".uixscform-modal-mask").length<1&&a("body").prepend('<div class="uixscform-modal-mask"></div>'),a("#"+k.thisModalID).length<1&&a("body").prepend('<div class="uixscform-modal-box" id="'+k.thisModalID+'"><a href="javascript:void(0)" class="close-btn close-uixscform-modal">&times;</a><div class="content"><h2>'+k.title+'</h2><span class="preview-box"></span><span class="iconslist-box"></span><span class="ajax-temp"></span></div></div>'),"[object Function]"==Object.prototype.toString.call(c.initFunction)&&c.initFunction(k),a(document).on("click",g,function(b){b.preventDefault();var d=a(this).data("id"),g=void 0!==a(this).data("target")?a(this).data("target"):"content",d=0,k={ID:d,contentID:g,title:e},m=a(".uixscform-modal-box#"+i),n=a(".uixscform-modal-box"),o=a(".uixscform-modal-buttons"),p=.8*a(window).height()-150;m.length>0&&(a.ajax({url:ajaxurl,type:"POST",data:{action:"uixscform_ajax_sections",tempID:j,sectionID:d,contentID:g,postID:f},success:function(b){b=b.replace(/{index}/g,"["+d+"]"),m.find(".ajax-temp").html(b),0==m.find(".iconslist-box").html().length&&m.find(".iconslist-box").html(a(".uixscform-icon-selector-btn-target").html()),0==m.find(".preview-box").html().length&&m.find(".preview-box").html(a(".uixscform-livepreview-btn-target").html()),uixscform_editorInit(m.find(".uixscform-mce-editor textarea.mce").attr("id"));var c=0,e=0,f=m.find(".ajax-temp .uixscform-form-container"),g=m.find(".ajax-temp .uixscform-table-cols-wrapper"),h=Array();return g.length>0?(g.each(function(b){var c=a(this).height();a(this).hasClass("uixscform-table-col-1")&&(e=c),h.push(parseFloat(c)+parseFloat(e))}),c=Math.max.apply(Math,h)):c=f.height(),(null==c||0==c||parseFloat(c+150+.2*a(window).height())>a(window).height())&&(c=p),n.css("height",parseFloat(c+150)+"px"),m.find(".ajax-temp .uixscform-modal-buttons").css("margin-top",parseFloat(c/2+20)+"px"),a(".uixscform_btn_trigger-clone").on("click",function(a){a.preventDefault(),n.css("height",parseFloat(p+150)+"px"),m.find(".ajax-temp .uixscform-modal-buttons").css("margin-top",parseFloat(p/2+20)+"px")}),a(".uixscform-icon-selector").uixscform_iconSelector(),a(".wp-color-input").wpColorPicker(),a(".uixscform_btn_trigger-toggleshow").each(function(){1==a(this).closest(".uixscform-box").find("input").val()&&a(this).uixscform_toggleshow()}),a(".uixscform_btn_trigger-toggleswitch_checkbox").uixscform_toggleSwitchCheckboxStatus(),a(".uixscform_btn_trigger-toggleswitch_radio").uixscform_toggleSwitchRadioStatus(),a(".uixscform_btn_trigger-upload").uixscform_mediaStatus(),a(".uixscform-modal-box .close-uixscform-modal").on("click",function(b){b.preventDefault(),a(".uixscform-modal-box").removeClass("active"),a(".uixscform-modal-mask").fadeOut("fast"),a("html").css("overflow-y","auto"),a(".uixscform-modal-box .preview-box").removeAttr("id").removeClass("active"),a(".uixscform-modal-box .iconslist-box").removeAttr("id").removeClass("active"),a(".uixscform-modal-box .ajax-temp").css("visibility","visible")}),!1},error:function(){m.find(".ajax-temp").html(h)},beforeSend:function(){m.find(".ajax-temp").html('<span class="uixscform-loading"></span>'),n.css("height","220px"),o.css("margin-top","50px")}}),a(".uixscform-modal-mask").fadeIn("fast"),m.addClass("active"),m.find(".content").animate({scrollTop:10},100),a("html").css("overflow-y","hidden")),c.startFunction(k),a(".uixscform-modal-box .close-uixscform-modal").on("click",function(b){b.preventDefault(),a(this).parent().removeClass("active"),a(".uixscform-modal-box").removeClass("active"),a(".uixscform-modal-mask").fadeOut("fast"),a("html").css("overflow-y","auto"),a(".uixscform-modal-box .preview-box").removeAttr("id").removeClass("active"),a(".uixscform-modal-box .iconslist-box").removeAttr("id").removeClass("active"),a(".uixscform-modal-box .ajax-temp").css("visibility","visible")})})})}}(jQuery);